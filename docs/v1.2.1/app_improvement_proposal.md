# λ€κµ¬ κ³µκ³µλ°μ΄ν„° μ‹κ°ν™” μ•± κ°μ„  μ μ•μ„ (v1.2 β†’ v1.2.1)

**λ¬Έμ„ λ²„μ „**: v1.2.1
**μ‘μ„±μΌ**: 2025-12-08
**μ°Έκ³  λ¬Έμ„**: `docs/v1.2.1/note.md`

---

## 1. κ°μ”

λ³Έ λ¬Έμ„λ” λ€κµ¬ κ³µκ³µλ°μ΄ν„° μ‹κ°ν™” μ•± v1.2μ ν„μ¬ μƒνƒ(AS-IS)μ™€ v1.2.1μ—μ„ λ©ν‘ν•λ” κ°μ„  μƒνƒ(TO-BE)λ¥Ό λΉ„κµ λ¶„μ„ν•λ‹¤.

---

## 2. κΈ°λ¥λ³„ AS-IS / TO-BE λΉ„κµ

### 2.1 API Key μ ν¨μ„± κ²€μ‚¬

| κµ¬λ¶„ | AS-IS (v1.2) | TO-BE (v1.2.1) |
|:-----|:------------------------|:----------------------|
| κ²€μ¦ λ°©μ‹ | μ΄μ „ λ²„μ „μ—μ„ μ •μƒ λ™μ‘ν–λ API Keyκ°€ "μ ν¨ν•μ§€ μ•μ" μ¤λ¥ λ°μƒ | API Key κ²€μ¦ λ΅μ§ μ κ²€ λ° μμ • |
| μ—λ¬ λ©”μ‹μ§€ | μΌλ°μ μΈ μ¤λ¥ λ©”μ‹μ§€ | κµ¬μ²΄μ μΈ μ¤λ¥ μ›μΈ μ•λ‚΄ |
| μ‚¬μ©μ κ²½ν— | μ •μƒ API Keyμ„μ—λ„ μ¬μ…λ ¥ λ°λ³µ ν•„μ” | κΈ°μ΅΄μ²λΌ μ •μƒ λ™μ‘ |

> **μ°Έκ³ **: λ™μΌν• API Keyκ°€ μ΄μ „ λ²„μ „(v1.1.1 λ“±)μ—μ„λ” μ •μƒ λ™μ‘ν–μΌλ‚, v1.2μ—μ„ μΈμ‹λμ§€ μ•λ” λ¬Έμ  λ°μƒ. λ²„μ „ μ—…κ·Έλ μ΄λ“ κ³Όμ •μ—μ„ κ²€μ¦ λ΅μ§ λ³€κ²½ μ—¬λ¶€ ν™•μΈ ν•„μ”.

---

### 2.2 Streamlit μ»΄ν¬λ„νΈ νΈν™μ„±

| κµ¬λ¶„ | AS-IS (v1.2) | TO-BE (v1.2.1) |
|:-----|:------------------------|:----------------------|
| `use_container_width` | deprecated νλΌλ―Έν„° μ‚¬μ© | `width` νλΌλ―Έν„°λ΅ λ§μ΄κ·Έλ μ΄μ… |
| κ²½κ³  λ©”μ‹μ§€ | μ‹¤ν–‰ μ‹ deprecation κ²½κ³  μ¶λ ¥ | κ²½κ³  μ—†μ΄ μ •μƒ μ‹¤ν–‰ |
| νΈν™μ„± | 2025-12-31 μ΄ν›„ λ™μ‘ λ¶κ°€ | ν–¥ν›„ λ²„μ „ νΈν™μ„± ν™•λ³΄ |

#### 2.2.1 νλΌλ―Έν„° λ§μ΄κ·Έλ μ΄μ… μƒμ„Έ

| κΈ°μ΅΄ κ°’ | μ‹ κ· κ°’ |
|:--------|:--------|
| `use_container_width=True` | `width='stretch'` |
| `use_container_width=False` | `width='content'` |

---

### 2.3 ν¨ν‚¤μ§€ κ΄€λ¦¬ μ‹μ¤ν… λ§μ΄κ·Έλ μ΄μ… (venv β†’ uv)

| κµ¬λ¶„ | AS-IS (v1.2) | TO-BE (v1.2.1) |
|:-----|:------------------------|:----------------------|
| ν¨ν‚¤μ§€ λ§¤λ‹μ € | `python -m venv` + `pip` | `uv` |
| μ„¤μ • νμΌ | `requirements.txt` | `pyproject.toml` + `requirements.txt` (νΈν™) |
| κ°€μƒν™κ²½ μƒμ„± | `python -m venv venv` | `uv venv` |
| μμ΅΄μ„± μ„¤μΉ | `pip install -r requirements.txt` | `uv sync` λλ” `uv pip install -r requirements.txt` |
| μ•± μ‹¤ν–‰ | `source venv/bin/activate && streamlit run app.py` | `uv run streamlit run app.py` |

> **μ°Έκ³ **: `uv run streamlit run app.py` μ‹¤ν–‰ μ‹ `Failed to spawn: streamlit` μ¤λ¥ λ°μƒ. `pyproject.toml` λ―Έμ΅΄μ¬λ΅ μΈν• λ¬Έμ .

#### 2.3.1 pyproject.toml μƒμ„± ν•„μ”

ν„μ¬ `requirements.txt`λ§ μ΅΄μ¬ν•λ©°, uvμ ν”„λ΅μ νΈ κ΄€λ¦¬ κΈ°λ¥μ„ μ‚¬μ©ν•λ ¤λ©΄ `pyproject.toml` μƒμ„±μ΄ ν•„μ”ν•©λ‹λ‹¤.

```toml
[project]
name = "daegu-public-data-viz"
version = "1.2.1"
requires-python = ">=3.10"
dependencies = [
    "streamlit>=1.28.0",
    "pandas>=2.0.0",
    "numpy>=1.24.0",
    "plotly>=5.17.0",
    "folium>=0.14.0",
    "streamlit-folium>=0.15.0",
    "matplotlib>=3.8.0",
    "openpyxl>=3.1.5",
    "anthropic>=0.39.0",
    "langchain>=0.3.0",
    "langchain-anthropic>=0.3.0",
    "langgraph>=0.2.0",
]
```

#### 2.3.2 λ§μ΄κ·Έλ μ΄μ… μ μ°¨

1. `pyproject.toml` μƒμ„±
2. κΈ°μ΅΄ `venv/` λ””λ ‰ν† λ¦¬ μ κ±° (μ„ νƒ)
3. `uv sync`λ΅ μμ΅΄μ„± μ„¤μΉ
4. `uv run streamlit run app.py`λ΅ μ‹¤ν–‰ ν™•μΈ

---

## 3. μ½”λ“ ν’μ§ κ°μ„ 

### 3.1 Deprecated νλΌλ―Έν„° μμ •

| μ„μΉ | AS-IS (v1.2) | TO-BE (v1.2.1) | μ‹¬κ°λ„ |
|:-----|:------------------------|:----------------------|:-------|
| ν•΄λ‹Ή μ»΄ν¬λ„νΈ | `use_container_width=True/False` | `width='stretch'/'content'` | β οΈ Warning |

#### 3.1.1 μ½”λ“ μμ • μƒμ„Έ

```python
# AS-IS
st.plotly_chart(fig, use_container_width=True)

# TO-BE
st.plotly_chart(fig, width='stretch')
```

---

### 3.2 API Key κ²€μ¦ λ΅μ§ μμ •

| μ„μΉ | AS-IS (v1.2) | TO-BE (v1.2.1) | μ‹¬κ°λ„ |
|:-----|:------------------------|:----------------------|:-------|
| API Key κ²€μ¦ ν•¨μ | μ΄μ „ λ²„μ „μ—μ„ μ •μƒ λ™μ‘ν–λ ν‚¤κ°€ μ‹¤ν¨ μ²λ¦¬λ¨ | κ²€μ¦ λ΅μ§ μ κ²€ ν›„ μ΄μ „ λ²„μ „κ³Ό λ™μΌν•κ² λ™μ‘ν•λ„λ΅ μμ • | π”΄ Error |

---

## 4. λ³€κ²½ μ”μ•½ν‘

| μμ—­ | λ³€κ²½ μ ν• | λ‚΄μ© |
|:-----|:---------|:-----|
| API Key κ²€μ¦ | π› μμ • | μ΄μ „ λ²„μ „μ—μ„ μ •μƒ λ™μ‘ν–λ API Keyκ°€ μΈμ‹λμ§€ μ•λ” λ¬Έμ  ν™•μΈ λ° μμ • |
| Streamlit μ»΄ν¬λ„νΈ | π”§ κ°μ„  | `use_container_width` β†’ `width` νλΌλ―Έν„° λ§μ΄κ·Έλ μ΄μ… |
| μ½”λ“ ν’μ§ | π”§ κ°μ„  | Deprecation κ²½κ³  μ κ±° |
| ν¨ν‚¤μ§€ κ΄€λ¦¬ | π”„ λ³€κ²½ | venv + pip β†’ uv λ§μ΄κ·Έλ μ΄μ…, `pyproject.toml` μƒμ„± |

---

## 5. κµ¬ν„ μ°μ„ μμ„

### π”΄ P0 - ν•„μ (λ²„κ·Έ μμ •)

| μμ„ | ν•­λ© | μ„¤λ… |
|:-----|:-----|:-----|
| 1 | API Key μ ν¨μ„± κ²€μ‚¬ μμ • | μ΄μ „ λ²„μ „μ—μ„ μ •μƒ λ™μ‘ν–λ API Keyκ°€ v1.2μ—μ„ μΈμ‹λμ§€ μ•λ” λ¬Έμ  ν™•μΈ λ° μμ • |

### π΅ P1 - μ¤‘μ” (Deprecation λ€μ‘ / ν™κ²½ κ°μ„ )

| μμ„ | ν•­λ© | μ„¤λ… |
|:-----|:-----|:-----|
| 2 | `use_container_width` λ§μ΄κ·Έλ μ΄μ… | 2025-12-31 μ κ±° μμ • νλΌλ―Έν„°λ¥Ό `width`λ΅ λ³€κ²½ |
| 3 | venv β†’ uv λ§μ΄κ·Έλ μ΄μ… | `pyproject.toml` μƒμ„± λ° uv ν¨ν‚¤μ§€ λ§¤λ‹μ € μ „ν™ |

### πΆ P2 - κ°μ„  (μ‚¬μ©μ κ²½ν—)

| μμ„ | ν•­λ© | μ„¤λ… |
|:-----|:-----|:-----|
| 4 | κ²½κ³  λ©”μ‹μ§€ μ κ±° | μ½μ†”μ— μ¶λ ¥λλ” deprecation κ²½κ³  μ κ±°λ΅ κΉ”λ”ν• μ‹¤ν–‰ ν™κ²½ μ κ³µ |

---

## 6. λ‹¤μ λ‹¨κ³„

1. **P0 κµ¬ν„**: μ΄μ „ λ²„μ „κ³Ό ν„μ¬ λ²„μ „μ API Key κ²€μ¦ λ΅μ§ λΉ„κµ λ¶„μ„ λ° μμ •
2. **P1-1 κµ¬ν„**: μ „μ²΄ μ½”λ“λ² μ΄μ¤μ—μ„ `use_container_width` μ‚¬μ©μ² κ²€μƒ‰ λ° `width` νλΌλ―Έν„°λ΅ μΌκ΄„ λ³€κ²½
3. **P1-2 κµ¬ν„**: `pyproject.toml` μƒμ„± λ° uv ν¨ν‚¤μ§€ λ§¤λ‹μ € μ „ν™
4. **P2 κµ¬ν„**: λ³€κ²½ ν›„ κ²½κ³  λ©”μ‹μ§€ μ κ±° ν™•μΈ
5. **ν…μ¤νΈ**: API Key μ…λ ¥, μ°¨νΈ λ λ”λ§, `uv run` μ‹¤ν–‰ ν…μ¤νΈ
6. **λ¬Έμ„ν™”**: README.md μ‹¤ν–‰ κ°€μ΄λ“ μ—…λ°μ΄νΈ (uv μ‚¬μ©λ²• μ¶”κ°€)

---
